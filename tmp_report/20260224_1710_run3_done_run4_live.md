# Compile Sweep v1 Snapshot (Run3 Done, Run4 Live)

- Snapshot time: 2026-02-24 17:10 HKT
- Branch: `yxb/moe-add-sft-claude`
- Experiment root: `/mnt/stepeval/yangxiaobo/cache/nanochat/tmp_exp/20260224_164636_moe-fp8-compile-sweep-v1`
- Queue session: `15105`

## Queue State

From `launch.txt` latest events:

- `2026-02-24T17:02:43+08:00` start `moe_fp8_experts_static_long`
- `2026-02-24T17:10:11+08:00` finish `moe_fp8_experts_static_long` status=0
- `2026-02-24T17:10:13+08:00` start `moe_fp8_experts_dynamic_long_retest`

## Run3 Final Metrics

From `tmp_report/metrics/moe_fp8_ablation_summary.csv`:

- Run: `moe_fp8_experts_static_long`
- Status: `completed`
- Steps: `360`
- Last loss: `3.531475`
- tail50 tok/sec: `474,178.48`
- tail50 bf16_mfu: `5.7366`
- tail50 dt_ms: `1107.05`
- Peak memory: `22,790.91 MiB`
- Total training time: `6.67m`

## Run4 Live Warmup

From live session output:

- Run: `moe_fp8_experts_dynamic_long_retest`
- Latest observed step: `00016/00360 (4.44%)`
- Live loss: `6.551625`
- Live tok/sec: `500,803`
- Live bf16_mfu: `6.06`
- Live dt_ms: `1046.89`

## Cross-Run Context

- `moe_fp8_noexperts_static_long` tail50 tok/sec: `1,039,883.30`
- `moe_fp8_experts_static_long` tail50 tok/sec: `474,178.48`
- Static experts path is currently `~54.4%` slower than no-experts static baseline.
- Dynamic retest warmup is already around static-experts steady-state throughput and may finish better if compile stability holds.

## Related Artifacts

- `tmp_report/20260224_1710_compile_sweep_v1_progress.md`
- `tmp_report/metrics/moe_fp8_ablation_summary.csv`
- `tmp_report/metrics/moe_fp8_ablation_steps.csv`
- `tmp_report/figures/moe_fp8_ablation_loss.png`
- `tmp_report/figures/moe_fp8_ablation_toksec.png`
- `tmp_report/figures/moe_fp8_ablation_mfu.png`
- `tmp_report/figures/moe_fp8_ablation_dt_ms.png`
